<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MiniSpin ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢</title>
<style>
body { font-family:sans-serif; text-align:center; background:#f6f5ff; margin:0; padding:0;}
h1 { color:#6c63ff; margin-top:20px; }
.box { background:white; width:90%; max-width:400px; margin:20px auto; padding:20px; border-radius:18px; box-shadow:0 5px 15px rgba(0,0,0,0.1);}
input { width:90%; padding:10px; margin:5px 0; border-radius:10px; border:1px solid #dcdcff;}
button { width:90%; padding:10px; margin:5px 0; background:#a6a1ff; border:none; color:white; border-radius:10px; font-size:16px; cursor:pointer;}
button:hover { background:#8d88ff;}
#wheelContainer { position:relative; width:300px; height:300px; margin:20px auto;}
#wheel { width:100%; height:100%; border-radius:50%; border:10px solid white; transition:transform 4s cubic-bezier(0.33, 1, 0.68, 1); display:flex; justify-content:center; align-items:center; position:relative;}
#wheel div { position:absolute; width:50%; height:50%; top:0; left:50%; transform-origin:0% 100%; text-align:right; font-size:12px; padding-right:10px;}
#arrow { width:0; height:0; border-left:15px solid transparent; border-right:15px solid transparent; border-bottom:30px solid red; position:absolute; top:-30px; left:50%; transform:translateX(-50%);}
</style>
</head>
<body>
<h1>üé° MiniSpin ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢</h1>

<div id="loginBox" class="box">
  <h2>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h2>
  <input id="loginUser" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ">
  <input id="loginPass" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" type="password">
  <button onclick="login()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
  <button onclick="showRegister()">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</button>
</div>

<div id="registerBox" class="box" style="display:none;">
  <h2>‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h2>
  <input id="regUser" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ">
  <input id="regPass" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" type="password">
  <button onclick="register()">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÄ‡∏•‡∏¢</button>
  <button onclick="hideRegister()">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
</div>

<div id="wheelBox" class="box" style="display:none;">
  <h2>‡∏™‡∏∏‡πà‡∏°‡∏ß‡∏á‡∏•‡πâ‡∏≠</h2>
  <div id="wheelContainer">
    <div id="arrow"></div>
    <div id="wheel"></div>
  </div>
  <button onclick="spin()">‡∏´‡∏°‡∏∏‡∏ô‡∏ß‡∏á‡∏•‡πâ‡∏≠!</button>
  <p id="result"></p>
  <button onclick="logout()">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
</div>

<script>
// ===== ‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ =====
let users = JSON.parse(localStorage.getItem("users")||"{}");
if(!users["admin"]){ users["admin"]={password:"admin123",admin:true}; localStorage.setItem("users",JSON.stringify(users)); }

function login(){
  let u=document.getElementById("loginUser").value.trim();
  let p=document.getElementById("loginPass").value.trim();
  if(!users[u]||users[u].password!==p){ alert("‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á"); return; }
  localStorage.setItem("currentUser",u);
  showApp();
}
function register(){
  let u=document.getElementById("regUser").value.trim();
  let p=document.getElementById("regPass").value.trim();
  if(!u||!p){ alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡∏∞‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô"); return; }
  if(users[u]){ alert("‡∏°‡∏µ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß"); return; }
  users[u]={password:p, admin:false};
  localStorage.setItem("users",JSON.stringify(users));
  alert("‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!");
  hideRegister();
}
function logout(){ localStorage.removeItem("currentUser"); location.reload();}
function showRegister(){ document.getElementById("loginBox").style.display="none"; document.getElementById("registerBox").style.display="block";}
function hideRegister(){ document.getElementById("registerBox").style.display="none"; document.getElementById("loginBox").style.display="block";}

// ===== ‡∏ß‡∏á‡∏•‡πâ‡∏≠ =====
let items=[
  {name:"üíé 20 Gems",rate:20},
  {name:"‚≠ê 50 Coins",rate:20},
  {name:"üî• Boost x2",rate:20},
  {name:"üéÅ ‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏™‡∏∏‡πà‡∏°",rate:20},
  {name:"üí∞ 100 Coins",rate:10},
  {name:"üéâ Jackpot!",rate:10}
];

let wheel=document.getElementById("wheel");
function drawWheel(){
  wheel.innerHTML="";
  let angle=360/items.length;
  items.forEach((it,i)=>{
    let div=document.createElement("div");
    div.style.transform=`rotate(${i*angle}deg)`;
    div.innerHTML=it.name;
    wheel.appendChild(div);
  });
}
drawWheel();

function spin(){
  let total=items.reduce((a,b)=>a+b.rate,0);
  let r=Math.random()*total, acc=0, selectedIndex=0;
  for(let i=0;i<items.length;i++){ acc+=items[i].rate; if(r<=acc){ selectedIndex=i; break; } }
  let anglePerItem=360/items.length;
  let rotate=360*10 + selectedIndex*anglePerItem + anglePerItem/2;
  wheel.style.transform=`rotate(${rotate}deg)`;
  setTimeout(()=>{ document.getElementById("result").innerHTML="‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö: <b>"+items[selectedIndex].name+"</b>"; },4000);
}

// ===== ‡πÅ‡∏™‡∏î‡∏á App =====
function showApp(){
  let u=localStorage.getItem("currentUser"); if(!u) return;
  document.getElementById("loginBox").style.display="none";
  document.getElementById("wheelBox").style.display="block";
}
showApp();
</script>
</body>
</html>
